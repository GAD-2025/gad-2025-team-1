<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>회원가입 - creAItive</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <style>
        /* --- 공통 스타일 (myspace.css 느낌 유지) --- */
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Noto Sans KR', sans-serif; }
        body { background-color: #f5f5f5; display: flex; align-items: center; justify-content: center; min-height: 100vh; color: #333; }
        
        /* 회원가입 컨테이너 */
        .signup-container {
            background: white;
            width: 100%;
            max-width: 480px;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        /* 헤더 (로고) */
        .signup-header { text-align: center; margin-bottom: 30px; }
        .logo { font-size: 2rem; font-weight: 800; color: #FF5900; text-decoration: none; letter-spacing: -1px; }
        .signup-desc { color: #888; margin-top: 10px; font-size: 0.95rem; }

        /* 폼 스타일 */
        .form-group { margin-bottom: 20px; }
        .form-label { display: block; font-weight: bold; margin-bottom: 8px; font-size: 0.9rem; color: #555; }
        .required { color: #FF5900; margin-left: 3px; }
        
        .form-input {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: 0.2s;
        }
        
        .form-input:focus {
            border-color: #FF5900;
            outline: none;
            box-shadow: 0 0 0 3px rgba(255, 89, 0, 0.1);
        }

        /* 라디오 버튼 (회원 유형) */
        .radio-group { display: flex; gap: 15px; }
        .radio-box {
            flex: 1;
            position: relative;
        }
        .radio-box input { position: absolute; opacity: 0; cursor: pointer; }
        .radio-box label {
            display: block;
            text-align: center;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            color: #777;
            transition: 0.2s;
        }
        /* 체크되었을 때 스타일 */
        .radio-box input:checked + label {
            background-color: #fff3e0;
            border-color: #FF5900;
            color: #FF5900;
        }

        /* 에러 메시지 */
        .error-msg { color: red; font-size: 0.8rem; margin-top: 5px; display: none; }

        /* 버튼 */
        .btn-signup {
            width: 100%;
            padding: 15px;
            background-color: #FF5900;
            color: white;
            border: none;
            border-radius: 30px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            margin-top: 10px;
            transition: 0.3s;
        }
        .btn-signup:hover { background-color: #e04e00; transform: translateY(-2px); }

        /* 하단 링크 */
        .login-link { text-align: center; margin-top: 20px; font-size: 0.9rem; color: #666; }
        .login-link a { color: #FF5900; text-decoration: none; font-weight: bold; }
        .login-link a:hover { text-decoration: underline; }
    </style>
</head>
<body>

    <div class="signup-container">
        <div class="signup-header">
            <a href="#" class="logo">creAItive</a>
            <p class="signup-desc">나만의 창작 우주를 시작해보세요</p>
        </div>

        <form id="signupForm">
            <div class="form-group">
                <label class="form-label">아이디 <span class="required">*</span></label>
                <input type="text" class="form-input" id="userId" placeholder="영문 소문자, 숫자 포함 4자 이상" required>
            </div>

            <div class="form-group">
                <label class="form-label">비밀번호 <span class="required">*</span></label>
                <input type="password" class="form-input" id="userPw" placeholder="비밀번호 입력" required>
            </div>

            <div class="form-group">
                <label class="form-label">비밀번호 확인 <span class="required">*</span></label>
                <input type="password" class="form-input" id="userPwConfirm" placeholder="비밀번호 재입력" required>
                <p class="error-msg" id="pwError">비밀번호가 일치하지 않습니다.</p>
            </div>

            <div class="form-group">
                <label class="form-label">이름 (닉네임) <span class="required">*</span></label>
                <input type="text" class="form-input" id="userName" placeholder="마이스페이스에 표시될 이름" required>
            </div>

            <div class="form-group">
                <label class="form-label">이메일</label>
                <input type="email" class="form-input" id="userEmail" placeholder="example@email.com">
            </div>


            <div class="form-group">
                <label class="form-label">한줄 소개 (선택)</label>
                <input type="text" class="form-input" id="userBio" placeholder="자신을 표현하는 한 문장">
            </div>

            <button type="submit" class="btn-signup">가입하기</button>
        </form>

        <div class="login-link">
            이미 계정이 있으신가요? <a href="login.html">로그인 하기</a>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function() {
            
            // 가입 버튼 클릭 시
            $('#signupForm').on('submit', function(e) {
                e.preventDefault(); // 폼 전송 막기

                const userId = $('#userId').val();
                const userPw = $('#userPw').val();
                const userPwConfirm = $('#userPwConfirm').val();
                const userName = $('#userName').val();
                const userEmail = $('#userEmail').val();
                const userType = $('input[name="userType"]:checked').val();
                const userBio = $('#userBio').val() || "안녕하세요! 새로운 크리에이터입니다."; // 비어있으면 기본값

                // 1. 간단한 유효성 검사
                if(userId.length < 4) {
                    alert('아이디는 4글자 이상이어야 합니다.');
                    return;
                }
                if(userPw !== userPwConfirm) {
                    $('#pwError').show();
                    return;
                } else {
                    $('#pwError').hide();
                }

                // 2. 로컬 스토리지에 저장할 데이터 생성
                // (기존에 작성하신 마이스페이스 구조에 맞게 초기화 데이터를 만듭니다)
                const newUserSpace = {
                    id: userId,
                    password: userPw, // 실제로는 암호화해야 하지만 연습용이므로 평문 저장
                    name: userName,
                    email: userEmail,
                    type: userType,
                    bio: userBio,
                    // 프로필 이미지는 기본 이미지로 설정
                    img: "/gad-2025-team-1/frontend/images/default_profile.jpg", 
                    
                    // 기본 폴더 구조 생성
                    folders: [
                        { id: 1, name: "WISH", thumb: "/gad-2025-team-1/frontend/images/folder_1.jpg", works: [] },
                        { id: 2, name: "My Work", thumb: "/gad-2025-team-1/frontend/images/folder_2.jpg", works: [] },
                        { id: 3, name: "ART", thumb: "/gad-2025-team-1/frontend/images/folder_3.jpg", works: [] }
                    ],
                    // 빈 궤도 (사용자가 채워넣도록 빈 배열 또는 기본 예시 1~2개)
                    orbit: [
                         "/gad-2025-team-1/frontend/images/art_1.jpg",
                         "/gad-2025-team-1/frontend/images/art_2.jpg"
                    ]
                };

                // 3. 저장 (지금은 1명의 유저만 관리하므로 덮어쓰기)
                localStorage.setItem('myspaceData', JSON.stringify(newUserSpace));
                
                // (심화) 만약 여러 유저를 로그인/로그아웃 하려면 'users' 배열을 따로 관리해야 함
                // 현재는 "가입 = 즉시 해당 유저로 세팅" 컨셉입니다.

                alert(`${userName}님, 환영합니다! 마이 스페이스가 생성되었습니다.`);
                
                // 4. 이동
                location.href = 'myspace.html'; 
            });

            // 비밀번호 입력 시 실시간 에러 메시지 숨김 처리
            $('#userPw, #userPwConfirm').on('keyup', function() {
                if($('#userPw').val() === $('#userPwConfirm').val()) {
                    $('#pwError').hide();
                }
            });
        });
    </script>
</body>
</html>